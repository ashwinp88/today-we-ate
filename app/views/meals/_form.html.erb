<%= form_with(model: meal, class: "stack gap-sm") do |form| %>
  <div class="field-group">
    <%= form.label :name, "What did you eat?" %>
    <%= form.text_field :name, required: true, placeholder: "Veggie tacos, sushi night..." %>
  </div>

  <div class="field-row">
    <div class="field-group">
      <%= form.label :source, "Where was it from?" %>
      <%= form.select :source, Meal.sources.keys.map { |k| [k.titleize, k] }, {}, required: true %>
    </div>
    <div class="field-group">
      <%= form.label :rating, "Rating" %>
      <%= form.select :rating, (1..5).map { |score| ["#{score} / 5", score] }, {}, required: true %>
    </div>
  </div>

  <div class="field-row">
    <div class="field-group">
      <%= form.label :ate_on, "Date" %>
      <%= form.date_field :ate_on, required: true %>
    </div>
    <div class="field-group">
      <%= form.label :retry_in_days, "Try again in (days)" %>
      <%= form.number_field :retry_in_days, min: 0, placeholder: "14" %>
    </div>
  </div>

  <div class="field-group">
    <%= form.label :notes, "Notes" %>
    <%= form.text_area :notes, rows: 3, placeholder: "New spice blend, extra crispy?" %>
  </div>

  <%= form.submit (meal.persisted? ? "Update meal" : "Save meal"), class: "btn primary" %>
<% end %>

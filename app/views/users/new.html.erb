<section class="auth-wrap">
  <div class="auth-card">
    <div class="auth-illustration signup" style="<%= session_background_asset.present? ? "background-image: url(#{asset_path(session_background_asset)});" : "background-image: url(#{asset_path('banner-1600.jpg')});" %>">
      <div class="auth-hero-copy">
        <h2>Make delicious habits</h2>
        <p>Log once. Decide whatâ€™s next faster.</p>
      </div>
    </div>
    <div class="auth-panel">
      <p class="eyebrow">Create account</p>
      <h1>Join Today We Ate</h1>
      <p class="muted">Log what you eat and discover your favorites.</p>

      <%= form_with model: @user, url: signup_path, class: "stack gap-sm auth-form" do |f| %>
        <div class="field-group">
          <%= f.label :name, "Name" %>
          <%= f.text_field :name, required: true, autocomplete: "name" %>
        </div>
        <div class="field-group">
          <%= f.label :email, "Email" %>
          <%= f.email_field :email, required: true, autocomplete: "email", value: params[:email] %>
        </div>
        <div class="field-group">
          <%= f.label :password, "Password" %>
          <%= f.password_field :password, required: true, autocomplete: "new-password" %>
        </div>
        <div class="field-group">
          <%= f.label :password_confirmation, "Confirm password" %>
          <%= f.password_field :password_confirmation, required: true, autocomplete: "new-password" %>
        </div>
        <%= f.submit "Create account", class: "btn primary wide" %>
      <% end %>

      <div class="or">or</div>

      <% if oauth_provider_enabled?(:google_oauth2) %>
        <div class="oauth-buttons">
          <%= link_to "Sign up with Google", "/auth/google_oauth2", class: "btn wide", data: { turbo: false } %>
        </div>
      <% end %>

      <p class="muted small">Already have an account? <%= link_to "Sign in", login_path %></p>
    </div>
  </div>
</section>
